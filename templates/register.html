{% extends "layout.html" %}
{% block title %}Register new user{% endblock %}
{% block content %}
<script>
    // from https://www.geeksforgeeks.org/password-matching-using-javascript/     
    // Function to check Whether both passwords
    // is same or not.
    function checkPassword(form) {
        password1 = form.password1.value;
        password2 = form.password2.value;

        // If password not entered
        if (password1 == '')
            alert ("Please enter Password");
              
        // If confirm password not entered
        else if (password2 == '')
            alert ("Please enter confirm password");
              
        // If Not same return False.    
        else if (password1 != password2) {
            alert ("\nPassword did not match: Please try again...")
            return false;
        }

        // If same return True.
        else{
            return true;
        }
    }
</script>

<h1 style="background-color:rgb(92, 148, 92);">Register as new user </h1>

<form action="/register" method="post" onSubmit = "return checkPassword(this)">
    Userid: <input type="text" name="username" required minlength="1" maxlength="20" size="20">
    <p>
    Password: <input type="password" name="password1" required minlength="1" maxlength="20" size="20">
    <p>
    Password again: <input type="password" name="password2" required minlength="1" maxlength="20" size="20">
    <p>
        Users role:
        <select name="role">
        <option value="contributor"> contributor
        <option value="reader"> reader   
        </select>
    <p>
        E-mail: <input type="email" name="email">
    <p>
        
    <input type="submit" value="Luo tunnus">
    <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">
</form>
        
    <p>

<a href="/">Go back to main page</a>

{% endblock %}

